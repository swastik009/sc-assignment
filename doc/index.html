<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h2 id="testing">Testing</h2>

<p>RSpec is used for unit testing.</p>

<h3 id="setup">Setup</h3>
<ol>
  <li>Ensure you have run <code>bundle install</code>.</li>
  <li>To run all specs:
<code>sh
bundle exec rspec
</code></li>
</ol>

<h3 id="coverage">Coverage</h3>
<ul>
  <li>Tests cover:
    <ul>
      <li>Loading clients from JSON (including missing/invalid files)</li>
      <li>Searching by any field</li>
      <li>Finding duplicate emails</li>
      <li>Client attribute access and formatting</li>
      <li>Terminal app pagination and initialization</li>
    </ul>
  </li>
  <li>Edge cases are included, such as:
    <ul>
      <li>Empty data files</li>
      <li>Missing fields</li>
      <li>No search results</li>
      <li>Duplicate detection with multiple matches
# ShiftCare</li>
    </ul>
  </li>
</ul>

<h2 id="cli-usage">CLI Usage</h2>

<p>Run the interactive CLI:</p>

<p><code>sh
ruby bin/client_tool search &lt;name&gt;
ruby bin/client_tool duplicates
</code></p>

<p>Or use the advanced terminal app:</p>

<p><code>sh
ruby lib/terminal_app.rb data/clients.json
</code></p>

<p>Features:
- Search clients by any field (dynamic selection)
- List all clients
- Find duplicate emails
- Paginated results</p>

<h2 id="web-api--swagger-ui">Web API &amp; Swagger UI</h2>

<h3 id="start-the-server">Start the server</h3>

<p><code>sh
ruby entrypoint.rb data/clients.json
</code></p>

<p>Server runs on <a href="http://localhost:9292">http://localhost:9292</a></p>

<h3 id="view-interactive-api-docs-swagger-ui">View Interactive API Docs (Swagger UI)</h3>

<p>Open your browser and go to <a href="http://localhost:9292">http://localhost:9292</a></p>

<p>You will see the Swagger UI landing page with interactive documentation for all API endpoints. You can try out requests directly from the browser.</p>

<p>If you update <code>swagger.json</code>, refresh the page to see changes.</p>

<hr />

<h3 id="api-endpoints--query-examples">API Endpoints &amp; Query Examples</h3>

<h4 id="list-all-searchable-fields">1. List all searchable fields</h4>
<p><strong>GET /api/keys</strong></p>

<p>Response:
<code>json
["id", "full_name", "email", ...]
</code></p>

<h4 id="list-all-clients-paginated">2. List all clients (paginated)</h4>
<p><strong>GET /api/list?page=1&amp;per_page=5</strong></p>

<p>Query Params:
- <code>page</code> (default: 1) — Page number
- <code>per_page</code> (default: 5) — Results per page</p>

<p>Example:
<code>
GET /api/list?page=2&amp;per_page=3
</code>
Response:
<code>json
{
  "page": 2,
  "per_page": 3,
  "total": 10,
  "clients": [ ... ]
}
</code></p>

<h4 id="list-clients-with-duplicate-emails-paginated">3. List clients with duplicate emails (paginated)</h4>
<p><strong>GET /api/duplicates?page=1&amp;per_page=5</strong></p>

<p>Query Params:
- <code>page</code> (default: 1)
- <code>per_page</code> (default: 5)</p>

<p>Example:
<code>
GET /api/duplicates?page=1&amp;per_page=2
</code>
Response:
<code>json
{
  "page": 1,
  "per_page": 2,
  "total": 4,
  "duplicates": [ ... ]
}
</code></p>

<h4 id="search-clients-by-field-and-query-paginated">4. Search clients by field and query (paginated)</h4>
<p>**GET /api/search?field=<field>&amp;query=<query>&amp;page=1&amp;per_page=5**</query></field></p>

<p>Query Params:
- <code>field</code> (required) — Field name to search (e.g., <code>email</code>)
- <code>query</code> (required) — Exact value to match
- <code>page</code> (default: 1)
- <code>per_page</code> (default: 5)</p>

<p>Example:
<code>
GET /api/search?field=email&amp;query=alice@example.com&amp;page=1&amp;per_page=2
</code>
Response:
<code>json
{
  "page": 1,
  "per_page": 2,
  "total": 1,
  "results": [ ... ]
}
</code></p>

<p>All endpoints return JSON.</p>

<h2 id="project-structure">Project Structure</h2>

<ul>
  <li><code>bin/client_tool</code> — Simple CLI tool</li>
  <li><code>lib/terminal_app.rb</code> — Interactive CLI app</li>
  <li><code>app_loader.rb</code>, <code>api_controller.rb</code>, <code>entrypoint.rb</code> — Web API implementation</li>
  <li><code>lib/client_loader.rb</code>, <code>lib/client_searcher.rb</code>, <code>lib/client.rb</code> — Core logic</li>
  <li><code>data/clients.json</code> — Example data file</li>
</ul>

<h2 id="setup-1">Setup</h2>

<ol>
  <li>Install Ruby (&gt;= 2.5 recommended)</li>
  <li>Run <code>bundle install</code> to install dependencies</li>
  <li>Place your client data in <code>data/clients.json</code> (array of objects)</li>
  <li>Run CLI or API as shown above</li>
</ol>

<h2 id="example-json">Example JSON</h2>

<p><code>json
[
  {"id": 1, "full_name": "Alice Smith", "email": "alice@example.com"},
  {"id": 2, "full_name": "Bob Jones", "email": "bob@example.com"}
]
</code></p>
</div></div>

      <div id="footer">
  Generated on Sun Aug  3 21:42:09 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.6).
</div>

    </div>
  </body>
</html>